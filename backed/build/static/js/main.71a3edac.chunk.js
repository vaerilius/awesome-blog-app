(window.webpackJsonpfrondend=window.webpackJsonpfrondend||[]).push([[0],{260:function(e,t,a){e.exports=a(440)},440:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(43),s=a.n(c),i=a(19),l=a(38),u=a(9),o=a.n(u),m=a(17),d=a(63),p=a(36),g=a.n(p),f="/api/blogs",v=null,b=function(){return{headers:{Authorization:v}}},E={getAll:function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(f);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addBlog:function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(f,t,b());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateBlog:function(){var e=Object(m.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("".concat(f,"/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),removeBlog:function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("".concat(f,"/").concat(t),b());case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),commentBlog:function(){var e=Object(m.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat(f,"/").concat(a,"/comments"),t,b);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),setToken:function(e){v="bearer ".concat(e)},destroyToken:function(){v=null}},h=function(e){return function(){var t=Object(m.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_MESSAGE",notification:e}),setTimeout((function(){a({type:"SET_MESSAGE",notification:{type:"",message:null}})}),3e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"",message:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return t.notification;default:return e}};function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_BLOGS":return Object(d.a)(t.blogs);case"ADD_BLOG":return[].concat(Object(d.a)(e),[t.blog]);case"LIKE_BLOG":return e.map((function(e){return e.id===t.data.id?t.data:e}));case"REMOVE_BLOG":return e.filter((function(e){return e.id!==t.id}));case"COMMENT_BLOG":return Object(d.a)(e).map((function(e){return e.id!==t.blog.id?e:t.blog}));default:return e}},j={login:function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USER":case"LOGIN_USER":return t.user;case"LOGOUT_USER":return null;default:return e}},k={signUpUser:function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllUsers:function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return Object(d.a)(t.users);case"SIGNUP_USER":return[].concat(Object(d.a)(e),[t.createdUser]);default:return e}},U=a(23),B=function(e){var t=Object(n.useState)(""),a=Object(U.a)(t,2),r=a[0],c=a[1];return[{type:e,value:r,onChange:function(e){c(e.target.value)}},function(){c("")}]},L=Object(i.b)((function(e){return{blogs:e.blogs}}),{onAddBlog:function(e){return function(){var t=Object(m.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.addBlog(e);case 3:n=t.sent,a({type:"ADD_BLOG",blog:n}),a(h({message:"blog: ".concat(n.title," just added"),class:"ui positive message"})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(h({message:t.t0.message,class:"ui negative message"}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=B("text"),a=Object(U.a)(t,2),n=a[0],c=a[1],s=B("text"),i=Object(U.a)(s,2),l=i[0],u=i[1],o=B("text"),m=Object(U.a)(o,2),d=m[0],p=m[1];return r.a.createElement("form",{className:"ui form",onSubmit:function(t){t.preventDefault();var a={title:n.value,url:l.value,description:d.value};e.onAddBlog(a),e.newBlogRef.current.toggleVisibility(),c(),u(),p()}},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"title"),r.a.createElement("input",n)),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"url"),r.a.createElement("input",l)),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",Object.assign({rows:"2"},d))),r.a.createElement("button",{className:"ui button",type:"submit"},"Create new blog"))})),I=a(24),T=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.b,{to:"blogs/".concat(e.blog.id)},r.a.createElement("img",{className:"bordered image",src:e.blog.url,alt:e.blog.url,style:{height:"15rem",width:"auto",maxHeight:"25rem",minHeight:"15rem"}})))},_=a(443),R=r.a.forwardRef((function(e,t){var a=Object(n.useState)(!1),c=Object(U.a)(a,2),s=c[0],i=c[1],l={display:s?"none":""},u={display:s?"":"none"},o=function(){i(!s)};return Object(n.useImperativeHandle)(t,(function(){return{toggleVisibility:o}})),r.a.createElement("div",null,r.a.createElement("div",{style:l},r.a.createElement(_.a,{onClick:o},e.buttonLabel)),r.a.createElement("div",{style:u},e.children,r.a.createElement(_.a,{onClick:o},"Cancel")))}));R.displayName="Togglable";var G=R,A=Object(i.b)((function(e){return{blogs:e.blogs.sort((function(e,t){return t.likes-e.likes})),user:e.user}}))((function(e){if(!e.blogs.length>0)return r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui text huge loader"},"Blogs Loading..."));var t=r.a.createRef();return r.a.createElement("div",{className:"ui grid  center aligned"},r.a.createElement("div",{className:"center aligned one column row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",null,"Blogs / pictures"),e.user?r.a.createElement(G,{buttonLabel:"Create new Blog",ref:t},r.a.createElement(L,{newBlogRef:t})):null))),e.blogs.map((function(e){return r.a.createElement("div",{className:"ui small images rounded",key:e.id},r.a.createElement(T,{blog:e}))})))})),C=a(453),D=a(249),P=a(64),M=Object(i.b)((function(e){return{user:e.user}}),{onLikeBlog:function(e){return function(){var t=Object(m.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=w({},e,{likes:e.likes+1}),t.next=4,E.updateBlog(e.id,n);case 4:r=t.sent,a({type:"LIKE_BLOG",data:r}),a(h({message:"blog: ".concat(n.title," just liked"),class:"ui positive message"})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(h({message:"something went wrong",class:"ui negative message"}));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},onRemoveBlog:function(e){return function(){var t=Object(m.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.removeBlog(e);case 3:a({type:"REMOVE_BLOG",id:e}),a(h({message:"blog with id: ".concat(e," just removed"),class:"ui positive message"})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(h({message:t.t0.message,class:"ui negative message"}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},onAddComment:function(e,t){return function(){var a=Object(m.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.commentBlog(e,t);case 3:r=a.sent,n({type:"COMMENT_BLOG",blog:r}),n(h({message:"blog: ".concat(r.title," just commented"),class:"ui positive message"})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(h({message:a.t0.message,class:"ui negative message"}));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=B("text"),a=Object(U.a)(t,2),n=a[0],c=a[1];if(void 0===e.blog)return r.a.createElement("h2",null,"loading");return r.a.createElement("div",{className:"ui vertically divided grid centered"},r.a.createElement("div",{className:"two column row "},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui fluid card centered "},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},"Title: ",e.blog.title)),r.a.createElement("div",{className:"image"},r.a.createElement(C.a,{trigger:r.a.createElement(D.a,{src:e.blog.url,alt:"aaa"})},r.a.createElement(C.a.Content,{image:!0},r.a.createElement(D.a,{wrapped:!0,size:"huge",src:e.blog.url})))),r.a.createElement("div",{className:"content"},r.a.createElement("span",{className:"right floated"},r.a.createElement("i",{className:"heart outline like icon"}),e.blog.likes," Likes"),r.a.createElement("i",{className:"comment icon"}),e.blog.comments.length," comments"),e.user?r.a.createElement("button",{className:"ui button",onClick:function(){return e.onLikeBlog(e.blog)}},r.a.createElement("i",{className:"heart icon"}),"Like"):null,e.user?r.a.createElement("div",{className:"ui fluid icon input"},r.a.createElement("input",Object.assign({placeholder:"Comment.."},n)),r.a.createElement("i",{className:"inverted circular comment link icon",onClick:function(){e.onAddComment({comment:n.value},e.blog.id),c()}})):null,e.user&&e.blog.user.name===e.user.name?r.a.createElement(I.b,{to:"/blogs",className:"ui button",onClick:function(){window.confirm("Do you really want to remove so nice picture")&&e.onRemoveBlog(e.blog.id)}},r.a.createElement("i",{className:"trash icon"}),"Remove"):null)),r.a.createElement("div",{className:"column "},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"center aligned header"},r.a.createElement(D.a,{wrapped:!0,size:"tiny",src:e.blog.user.picture}),r.a.createElement("h3",null,e.blog.user.name)),r.a.createElement("div",{className:"center aligned description"},r.a.createElement("p",{className:"ui header"},"Description: "),r.a.createElement("p",null,e.blog.description))),r.a.createElement("div",{className:"extra content"},r.a.createElement("p",{className:"ui icon header"},"Comments: "),r.a.createElement("div",{className:"ui list"},e.blog.comments.map((function(e){return r.a.createElement("div",{className:"center aligned item",key:e},e)}))))))),r.a.createElement(I.b,{to:"/blogs"},r.a.createElement(_.a,{primary:!0},"Back to blogs ",r.a.createElement(P.a,{name:"step backward"}))))})),q=function(e){return e.user?r.a.createElement("div",{className:"item",key:e.user.id},r.a.createElement("div",{className:"right floated"},"Blogs: ",e.user.blogs.length),r.a.createElement("img",{className:"ui avatar image",src:e.user.picture,alt:e.user.picture}),r.a.createElement("div",{className:"content"},r.a.createElement(I.b,{to:"/users/".concat(e.user.id)},e.user.name))):r.a.createElement("div",null,"loading")},z=Object(i.b)((function(e){return{users:e.users}}))((function(e){return e.users?r.a.createElement("div",{className:"ui grid container center aligned"},r.a.createElement("div",{className:"center aligned one column row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",null,"Users"))),r.a.createElement("div",{className:"ui huge middle aligned list"},e.users.map((function(e){return r.a.createElement(q,{user:e,key:e.id})}))))):r.a.createElement("div",{className:"ui segment",style:{padding:"100px"}},r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui huge text loader"},"Users Loading...")),r.a.createElement("p",null))})),V=Object(i.b)((function(e,t){return{user:e.users.find((function(e){return e.id===t.user.id}))}}))((function(e){return void 0===e.user?null:r.a.createElement("div",{className:"ui centered card",style:{marginTop:"7rem"}},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:e.user.picture,alt:e.user.picture})),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},e.user.name)),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"description"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla.")),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"image icon"}),e.user.blogs.length," Blogs"),e.user.blogs.map((function(e){return r.a.createElement("div",{className:"description",key:e.id},r.a.createElement(I.b,{to:"/blogs/".concat(e.id)},e.title))}))))})),F=a(55),H=Object(i.b)((function(e){return{user:e.user}}),{logout:function(){return function(){var e=Object(m.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.destroyToken(),window.localStorage.removeItem("user"),t({type:"LOGOUT_USER"}),t(h({message:"User logged out",class:"ui info message"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return r.a.createElement("div",{className:"ui small fixed menu"},r.a.createElement("div",{className:"launch icon item"},r.a.createElement(I.b,{to:"/"}," ",r.a.createElement("i",{className:"image icon"}))),r.a.createElement("div",{className:"item"},r.a.createElement(I.b,{to:"/blogs"},r.a.createElement("i",{className:"images icon"}))),r.a.createElement("div",{className:"item"},r.a.createElement(I.b,{to:"/users"},r.a.createElement("i",{className:"users icon"}))),r.a.createElement("div",{className:"right menu"},e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui item"},r.a.createElement("img",{className:"ui avatar image",alt:"",src:e.user.picture}),r.a.createElement("span",null,e.user.username)),r.a.createElement("div",{className:"ui item"},e.user?r.a.createElement("div",{onClick:function(){return e.logout()}},"Logout"):r.a.createElement(F.a,{to:"/"}))):r.a.createElement("div",{className:"ui item"},r.a.createElement(I.b,{to:"/login"},"Login"))))})),J=Object(i.b)((function(e){return{notification:e.notification}}))((function(e){var t=e.notification;return null===t.message?null:r.a.createElement("div",{className:t.class},r.a.createElement("i",{className:"close icon"}),r.a.createElement("div",{className:"header"},t.message))})),K=a(452),Q=a(40),W=Object(i.b)((function(e){return{user:e.user}}),{signUp:function(e){return function(){var t=Object(m.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.signUpUser(e);case 3:n=t.sent,a({type:"SIGNUP_USER",createdUser:n}),a(h({message:"sign up succeed",class:"ui positive message"})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(h({message:t.t0.message,class:"ui negative message"}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=B("text"),a=Object(U.a)(t,2),n=a[0],c=a[1],s=B("text"),i=Object(U.a)(s,2),l=i[0],u=i[1],o=B("text"),m=Object(U.a)(o,2),d=m[0],p=m[1],g=B("password"),f=Object(U.a)(g,2),v=f[0],b=f[1];return r.a.createElement("div",{className:"ui raised very padded text segment"},r.a.createElement("h1",{className:"ui center aligned icon header"},"Sign Up",r.a.createElement("i",{className:"images outline icon"})),r.a.createElement(Q.a,{onSubmit:function(){var t={username:n.value,password:v.value,picture:d.value,name:l.value};e.signUp(t),u(""),p(""),b(""),c("")}},r.a.createElement("div",{className:"field"},r.a.createElement(Q.b,Object.assign({label:"Username"},n))),r.a.createElement("div",{className:"field"},r.a.createElement(Q.b,Object.assign({label:"Password"},v))),r.a.createElement("div",{className:"field"},r.a.createElement(Q.b,Object.assign({label:"Name"},l))),r.a.createElement("div",{className:"field"},r.a.createElement(Q.b,Object.assign({label:"Picture"},d))),r.a.createElement(_.a,{className:"ui button submit",type:"submit"},"Sign Up")))})),X=Object(i.b)((function(e){return{user:e.user}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui raised very padded text segment"},r.a.createElement("h1",{className:"ui center aligned icon header"},"Awesome Blog App",r.a.createElement("i",{className:"images outline icon"})),r.a.createElement("h2",{className:"ui header"},"Home / landing page"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor mi ut lacinia semper. Aliquam non rutrum massa. Vestibulum commodo congue metus, a euismod diam accumsan non. Quisque lobortis vitae risus in porta. Aliquam viverra volutpat diam, vitae dapibus orci sodales ut. Integer interdum lorem sit amet purus blandit congue ac sed tortor. Ut mollis diam purus, a vehicula ante lacinia ac. Duis in justo tellus Pellentesque sollicitudin suscipit nunc vel placerat. Sed pharetra diam nulla, vitae placerat dolor lacinia vel. Suspendisse porttitor aliquet interdum.")),e.user?null:r.a.createElement(W,null))})),Y=Object(i.b)((function(e){return{user:e.user}}),{login:function(e){return function(){var t=Object(m.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.login(e);case 3:(n=t.sent)&&(window.localStorage.setItem("user",JSON.stringify(n)),E.setToken(n.token),a({type:"LOGIN_USER",user:n}),a(h({message:"".concat(n.username," logged in"),class:"ui positive message"}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(h({message:"wrong username or password",class:"ui negative message"}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=B("text"),a=Object(U.a)(t,2),n=a[0],c=a[1],s=B("password"),i=Object(U.a)(s,2),l=i[0],u=i[1];return r.a.createElement("div",{style:{paddingTop:"20px"}},r.a.createElement("h2",{className:"ui center aligned icon header"},r.a.createElement("i",{className:"unlock icon"}),"Login"),r.a.createElement(Q.a,{className:"ui form",onSubmit:function(){e.login({username:n.value,password:l.value}),u(""),c("")}},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Username"),r.a.createElement(Q.b,Object.assign({},n,{validators:["required:1","minStringLength: 4"],errorMessages:["this field is required"]}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Password"),r.a.createElement(Q.b,Object.assign({},l,{validators:["required:1","minStringLength: 4"],errorMessages:["this field is required","min length is 4"]}))),e.user?r.a.createElement(F.a,{to:"/"}):r.a.createElement(_.a,{className:"ui button submit",type:"submit"},"Login")))})),Z=Object(i.b)((function(e){return console.log(e),{blogs:e.blogs,user:e.user,users:e.users}}),{initializeBlogs:function(){return function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getAll();case 2:a=e.sent,t({type:"INIT_BLOGS",blogs:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},initializeUser:function(){return function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=JSON.parse(window.localStorage.getItem("user")))?(E.setToken(a.token),t({type:"INIT_USER",user:a})):t({type:"INIT_USER",user:null});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},initializeUsers:function(){return function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAllUsers();case 2:a=e.sent,t({type:"INIT_USERS",users:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(n.useEffect)((function(){e.initializeUsers(),e.initializeBlogs(),e.initializeUser()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(K.a,{style:{margin:"5rem"}},r.a.createElement(H,null),r.a.createElement(J,null),r.a.createElement(F.b,{exact:!0,path:"/",render:function(){return r.a.createElement(X,null)}}),r.a.createElement(F.b,{exact:!0,path:"/blogs/:id",render:function(t){var a=t.match;return r.a.createElement(M,{blog:e.blogs.find((function(e){return e.id===a.params.id}))})}}),r.a.createElement(F.b,{exact:!0,path:"/blogs/",render:function(){return r.a.createElement(A,null)}}),r.a.createElement(F.b,{exact:!0,path:"/login/",render:function(){return r.a.createElement(Y,null)}}),r.a.createElement(F.b,{exact:!0,path:"/users/",render:function(){return r.a.createElement(z,null)}}),e.users?r.a.createElement(F.b,{exact:!0,path:"/users/:id",render:function(t){var a=t.match;return r.a.createElement(V,{user:e.users.find((function(e){return e.id===a.params.id}))})}}):r.a.createElement("div",null," loading"))))})),$=a(62),ee=a(247),te=a(248),ae=Object($.combineReducers)({blogs:y,user:x,users:S,notification:N}),ne=Object($.createStore)(ae,Object(te.composeWithDevTools)(Object($.applyMiddleware)(ee.a)));s.a.render(r.a.createElement(i.a,{store:ne},r.a.createElement(Z,null)),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.71a3edac.chunk.js.map